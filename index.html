<!DOCTYPE html>
<html>
<html>

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />

    <!--페이지 설명(링크 공유할 때 나오는 부분)-->
    <meta property="og:type" content="website" />
     <meta property="og:url" content="https://villagebabymbti.netlify.app/"/>
    <meta property="og:title" content="내 MBTI로 보는 나는 어떤 엄빠?" />
    <meta property="og:description" content="간단한 테스트로 나는 어떤 부모 유형인지 알아보자!" />
    <meta property="og:image" content="/img/first_img.jpg" />
    <!--페이지 설명(링크 공유할 때 나오는 부분)-->

    <title>MBTI로 보는 나는 어떤 엄빠?</title>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@100;300;400;500;700;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/index.css">
</head>

<body>
    <script id="javascript-sdk" src="https://developers.kakao.com/sdk/js/kakao.js"></script>
    <div class="box">
        <img id="logo" src="img/Logo.png">
        <div id="title">내 MBTI로 보는
            <div id="bold">나는 어떤 엄빠??</div>
        </div>
        <img id="main_img" src="img/first_img.gif">
        <div id="btn">
            <div><a class="button" id="btn_test" href="question0.html">테스트 시작</a></div>

            <!--하단 공유 버튼 3개-->
            <div id="btn_low">
                <a id="btn_kakao" href="javascript:sendLink()"><img src="img/kakaobtn.png"></a>

                <a id="btn_facebook" href="https://www.facebook.com/sharer/sharer.php?u=%20https%3A%2F%2Fvillagebabymbti.netlify.app"><img src="img/facebookbtn.png"></a>

                <a id="btn_urlshare" href="#" onClick="clip(); return false" contenteditable='true' style="cursor: pointer;"><img src="img/sharebtn@4x-8.png"></a></div>
        </div>
    </div>
    <script type="text/javascript">
        try {
            Kakao.init('4ad0ef84470bf2e44e5217152e196287')

            function sendLink() {
                Kakao.Link.sendCustom({
                    templateId: 31794,
                    templateArgs: {
                        title: "내 MBTI로 보는 나는 어떤 엄빠???",
                        description: "간단한 테스트로 나는 어떤 부모 유형인지 알아보자!",
                    },
                })
            };
            window.kakaoDemoCallback && window.kakaoDemoCallback()
        } catch (e) {
            window.kakaoDemoException && window.kakaoDemoException(e)
        }
    </script>
    <script type="text/javascript">
        function handlePaste(e) {
            var clipboardData, pastedData;

            // Stop data actually being pasted into div
            e.stopPropagation();
            e.preventDefault();

            // Get pasted data via clipboard API
            clipboardData = e.clipboardData || window.clipboardData;
            pastedData = clipboardData.getData('Text');

            // Do whatever with pasteddata
            alert(pastedData);
        }

        document.getElementById('btn_urlshare').addEventListener('paste', handlePaste);
        }
    </script>

    <!--링크공유-->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.0/jquery.min.js"></script>
    <script>
        $(document).on("click", "#btn_urlshare", function(e) {
            $('html').find('meta[name=viewport]').attr('content', 'width=device-width,initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no');
            var html = "<input id='clip_target' type='text' value='' style='position:absolute;top:-9999em;'/>";
            $(this).append(html);
            var input_clip = document.getElementById("clip_target");
            var _url = $(location).attr('href');
            $("#clip_target").val(_url);
            if (navigator.userAgent.match(/(iPod|iPhone|iPad)/)) {
                var editable = input_clip.contentEditable;
                var readOnly = input_clip.readOnly;
                input_clip.contentEditable = true;
                input_clip.readOnly = false;
                var range = document.createRange();
                range.selectNodeContents(input_clip);
                var selection = window.getSelection();
                selection.removeAllRanges();
                selection.addRange(range);
                input_clip.setSelectionRange(0, 999999);
                input_clip.contentEditable = editable;
                input_clip.readOnly = readOnly;
            } else {
                input_clip.select();
            }
            try {
                var successful = document.execCommand('copy');
                input_clip.blur();
                if (successful) {
                    alert("URL이 복사 되었습니다. 원하시는 곳에 붙여넣기 해 주세요.");
                    $('html').find('meta[name=viewport]').attr('content', 'width=device-width,initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0,user-scalable=yes');
                } else {
                    alert('이 브라우저는 지원하지 않습니다.');
                }
            } catch (err) {
                alert('이 브라우저는 지원하지 않습니다.');
            }
        });
    </script>


</body></html>
